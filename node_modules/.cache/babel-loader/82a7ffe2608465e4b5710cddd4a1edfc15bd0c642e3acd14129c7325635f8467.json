{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Connect from \"./components/connect\";\nimport { useAccount, useContractRead, useContractReads, useContractWrite, usePrepareContractWrite, useWaitForTransaction } from \"wagmi\";\nimport TokenABI from \"./token_abi.json\";\nimport { ethers } from \"ethers\";\nconst tokenContract = {\n  //address: \"0x759B7B7De07289224a50113378ab5b8913E349e9\",\n  address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n  abi: TokenABI\n};\nfunction Token() {\n  _s();\n  const {\n    address\n  } = useAccount();\n  const [recipientAddress, setRecipientAddress] = useState(\"\");\n  const [amount, setAmount] = useState(null);\n  const {\n    data: balance,\n    isError: errorBalance,\n    isLoading: loadingBalance\n  } = useContractRead({\n    ...tokenContract,\n    // address: \"0x759B7B7De07289224a50113378ab5b8913E349e9\",\n    // abi: TokenABI,\n    functionName: \"balanceOf\",\n    args: [address !== null && address !== void 0 ? address : \"0x0\"]\n  });\n  const {\n    data: tokenDetails,\n    isError: errorTokenDetails,\n    isLoading: loadingTokenDetails\n  } = useContractReads({\n    contracts: [{\n      address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n      abi: TokenABI,\n      functionName: \"name\"\n    }, {\n      address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n      abi: TokenABI,\n      functionName: \"decimals\"\n    }, {\n      address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n      abi: TokenABI,\n      functionName: \"symbol\"\n    }, {\n      ...tokenContract,\n      functionName: \"totalSupply\"\n    }, {\n      ...tokenContract,\n      functionName: \"balanceOf\",\n      args: [address !== null && address !== void 0 ? address : \"0x0\"]\n    }\n    // { address: \"0x5ceA53069455C3aA07ABf87692b5E9E4052d2850\", abi: TokenABI,  functionName: \"name\", chainId: 80001}\n    ]\n  });\n\n  // const { config } = usePrepareContractWrite({\n  //   ...tokenContract,\n  //   functionName: \"transfer\",\n  //   args: [\n  //     recipientAddress ? recipientAddress : \"0x0000000000000000000000000000000000000000\",\n  //     ethers.utils.parseEther(amount ? amount.toString() : \"0\"),\n  //   ],\n  // });\n\n  const {\n    data: sendData,\n    isLoading: sendLoading,\n    isSuccess: sendSuccess,\n    write\n  } = useContractWrite({\n    mode: \"recklesslyUnprepared\",\n    ...tokenContract,\n    functionName: \"transfer\",\n    args: [recipientAddress ? recipientAddress : \"0x0000000000000000000000000000000000000000\", ethers.utils.parseEther(amount ? amount.toString() : \"0\")]\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    write === null || write === void 0 ? void 0 : write();\n  };\n  const {\n    data: sendWaitData,\n    isError: errorWaitData,\n    isLoading: loadingWaitData\n  } = useWaitForTransaction({\n    hash: sendData === null || sendData === void 0 ? void 0 : sendData.hash,\n    onSuccess(data) {\n      console.log(\"SUCCESSFUL: \", data);\n    },\n    onError(error) {\n      console.log(\"ERROR: \", error);\n    }\n  });\n  if (sendWaitData) {\n    console.log(\"This is our wait data: \", sendWaitData);\n  }\n\n  // return (\n  //   <div>\n  //     <div className=\"flex items-center justify-between px-8 py-5 bg-blue-400\">\n  //       <div className=\"text-2xl font-semibold text-white\">SCAR FACE TOKEN DAPP</div>\n  //       <div>\n  //         <Connect />\n  //       </div>\n  //     </div>\n\n  //     <div className=\"flex items-center justify-between flex-col\">\n  //       {loadingTokenDetails ? (\n  //         <>LOADING STATE</>\n  //       ) : (\n  //         <div className=\"mt-8 text-2xl bg-gradient-to-r from-teal-200 to-zinc-600 rounded-lg p-6\">\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">ADDRESS:</span>\n  //             {address ?? \"0x0\"}\n  //           </div>\n\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">BALANCE:</span>\n  //             {String(balance) / 10 ** tokenDetails[1] ?? \"0\"} {tokenDetails[2]}\n  //           </div>\n\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">NAME:</span>\n  //             {tokenDetails[0] ?? \"TOKEN NAME\"}\n  //           </div>\n\n  //           <div className=\"\">\n  //             <span className=\"font-semibold\">TOTAL SUPPLY:</span>\n  //             {tokenDetails[3] / 10 ** tokenDetails[1] ?? \"0\"}\n  //           </div>\n  //         </div>\n  //       )}\n\n  //       <form\n  //         onSubmit={handleSubmit}\n  //         className=\"mt-10 p-8 rounded-2xl bg-gray-200 max-w-[630px] w-full shadow-lg\"\n  //       >\n  //         <div className=\"text-center font-bold text-3xl mb-8\">\n  //           TRANSFER TOKEN\n  //         </div>\n\n  //         <div className=\"mb-4\">\n  //           <label className=\"block mb-1 text-lg\">Recipient Address</label>\n  //           <input\n  //             type=\"text\"\n  //             placeholder=\"0x0\"\n  //             // value={recipientAddress}\n  //             name={\"recipientAddress\"}\n  //             className=\"w-full p-3 rounded-lg shadow-lg ring-1 ring-teal-500\"\n  //             onChange={(e) => setRecipientAddress(e.target.value)}\n  //           />\n  //         </div>\n  //         <div className=\"mb-8\">\n  //           <label className=\"block mb-1 text-lg\">Amount</label>\n  //           <input\n  //             type=\"number\"\n  //             placeholder=\"0\"\n  //             className=\"w-full p-3 rounded-lg shadow-lg ring-1 ring-teal-500\"\n  //             // value={amount}\n  //             name={\"amount\"}\n  //             onChange={(e) => setAmount(e.target.value)}\n  //           />\n  //         </div>\n\n  //         <button\n  //           className={`${\n  //             !amount || !recipientAddress\n  //               ? \"cursor-not-allowed\"\n  //               : \"cursor-pointer\"\n  //           } bg-teal-600 text-white px-10 py-4 w-full rounded-lg hover:bg-teal-900`}\n  //           disabled={!amount || !recipientAddress}\n  //           type=\"submit\"\n  //         >\n  //           {sendLoading || loadingWaitData ? \"LOADING....\" : \"SEND\"}\n  //         </button>\n  //       </form>\n  //     </div>\n\n  //     {/* TOTAL SUPPLY: {tokenDetails[3]} */}\n  //   </div>\n  // );\n}\n_s(Token, \"jgBa8B+ITv1qTaFUV8YGseBChLY=\", false, function () {\n  return [useAccount, useContractRead, useContractReads, useContractWrite, useWaitForTransaction];\n});\n_c = Token;\nexport default Token;\nvar _c;\n$RefreshReg$(_c, \"Token\");","map":{"version":3,"names":["React","useEffect","useState","Connect","useAccount","useContractRead","useContractReads","useContractWrite","usePrepareContractWrite","useWaitForTransaction","TokenABI","ethers","tokenContract","address","abi","Token","_s","recipientAddress","setRecipientAddress","amount","setAmount","data","balance","isError","errorBalance","isLoading","loadingBalance","functionName","args","tokenDetails","errorTokenDetails","loadingTokenDetails","contracts","sendData","sendLoading","isSuccess","sendSuccess","write","mode","utils","parseEther","toString","handleSubmit","e","preventDefault","sendWaitData","errorWaitData","loadingWaitData","hash","onSuccess","console","log","onError","error","_c","$RefreshReg$"],"sources":["/home/ubuntu/Desktop/frontend/ScarFace-App/src/Token.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Connect from \"./components/connect\";\nimport {\n  useAccount,\n  useContractRead,\n  useContractReads,\n  useContractWrite,\n  usePrepareContractWrite,\n  useWaitForTransaction,\n} from \"wagmi\";\nimport TokenABI from \"./token_abi.json\";\nimport { ethers } from \"ethers\";\n\nconst tokenContract = {\n  //address: \"0x759B7B7De07289224a50113378ab5b8913E349e9\",\n  address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n  abi: TokenABI,\n};\n\nfunction Token() {\n  const { address } = useAccount();\n\n  const [recipientAddress, setRecipientAddress] = useState(\"\");\n  const [amount, setAmount] = useState(null);\n\n  const {\n    data: balance,\n    isError: errorBalance,\n    isLoading: loadingBalance,\n  } = useContractRead({\n    ...tokenContract,\n    // address: \"0x759B7B7De07289224a50113378ab5b8913E349e9\",\n    // abi: TokenABI,\n    functionName: \"balanceOf\",\n    args: [address ?? \"0x0\"],\n  });\n\n  const {\n    data: tokenDetails,\n    isError: errorTokenDetails,\n    isLoading: loadingTokenDetails,\n  } = useContractReads({\n    contracts: [\n      {\n        address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n        abi: TokenABI,\n        functionName: \"name\",\n      },\n      {\n        address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n        abi: TokenABI,\n        functionName: \"decimals\",\n      },\n      {\n        address: \"0x6c56ED5477A02941Ef09088b6FFe8f3A7677c86a\",\n        abi: TokenABI,\n        functionName: \"symbol\",\n      },\n      { ...tokenContract, functionName: \"totalSupply\" },\n      { ...tokenContract, functionName: \"balanceOf\", args: [address ?? \"0x0\"] },\n      // { address: \"0x5ceA53069455C3aA07ABf87692b5E9E4052d2850\", abi: TokenABI,  functionName: \"name\", chainId: 80001}\n    ],\n  });\n\n  // const { config } = usePrepareContractWrite({\n  //   ...tokenContract,\n  //   functionName: \"transfer\",\n  //   args: [\n  //     recipientAddress ? recipientAddress : \"0x0000000000000000000000000000000000000000\",\n  //     ethers.utils.parseEther(amount ? amount.toString() : \"0\"),\n  //   ],\n  // });\n\n  const {\n    data: sendData,\n    isLoading: sendLoading,\n    isSuccess: sendSuccess,\n    write,\n  } = useContractWrite({\n    mode: \"recklesslyUnprepared\",\n    ...tokenContract,\n    functionName: \"transfer\",\n    args: [\n      recipientAddress\n        ? recipientAddress\n        : \"0x0000000000000000000000000000000000000000\",\n      ethers.utils.parseEther(amount ? amount.toString() : \"0\"),\n    ],\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    write?.();\n  };\n\n  const {\n    data: sendWaitData,\n    isError: errorWaitData,\n    isLoading: loadingWaitData,\n  } = useWaitForTransaction({\n    hash: sendData?.hash,\n\n    onSuccess(data) {\n      console.log(\"SUCCESSFUL: \", data);\n    },\n\n    onError(error) {\n      console.log(\"ERROR: \", error);\n    },\n  });\n\n  if (sendWaitData) {\n    console.log(\"This is our wait data: \", sendWaitData);\n  }\n\n  // return (\n  //   <div>\n  //     <div className=\"flex items-center justify-between px-8 py-5 bg-blue-400\">\n  //       <div className=\"text-2xl font-semibold text-white\">SCAR FACE TOKEN DAPP</div>\n  //       <div>\n  //         <Connect />\n  //       </div>\n  //     </div>\n\n  //     <div className=\"flex items-center justify-between flex-col\">\n  //       {loadingTokenDetails ? (\n  //         <>LOADING STATE</>\n  //       ) : (\n  //         <div className=\"mt-8 text-2xl bg-gradient-to-r from-teal-200 to-zinc-600 rounded-lg p-6\">\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">ADDRESS:</span>\n  //             {address ?? \"0x0\"}\n  //           </div>\n\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">BALANCE:</span>\n  //             {String(balance) / 10 ** tokenDetails[1] ?? \"0\"} {tokenDetails[2]}\n  //           </div>\n\n  //           <div className=\"mb-2\">\n  //             <span className=\"font-semibold\">NAME:</span>\n  //             {tokenDetails[0] ?? \"TOKEN NAME\"}\n  //           </div>\n\n  //           <div className=\"\">\n  //             <span className=\"font-semibold\">TOTAL SUPPLY:</span>\n  //             {tokenDetails[3] / 10 ** tokenDetails[1] ?? \"0\"}\n  //           </div>\n  //         </div>\n  //       )}\n\n  //       <form\n  //         onSubmit={handleSubmit}\n  //         className=\"mt-10 p-8 rounded-2xl bg-gray-200 max-w-[630px] w-full shadow-lg\"\n  //       >\n  //         <div className=\"text-center font-bold text-3xl mb-8\">\n  //           TRANSFER TOKEN\n  //         </div>\n\n  //         <div className=\"mb-4\">\n  //           <label className=\"block mb-1 text-lg\">Recipient Address</label>\n  //           <input\n  //             type=\"text\"\n  //             placeholder=\"0x0\"\n  //             // value={recipientAddress}\n  //             name={\"recipientAddress\"}\n  //             className=\"w-full p-3 rounded-lg shadow-lg ring-1 ring-teal-500\"\n  //             onChange={(e) => setRecipientAddress(e.target.value)}\n  //           />\n  //         </div>\n  //         <div className=\"mb-8\">\n  //           <label className=\"block mb-1 text-lg\">Amount</label>\n  //           <input\n  //             type=\"number\"\n  //             placeholder=\"0\"\n  //             className=\"w-full p-3 rounded-lg shadow-lg ring-1 ring-teal-500\"\n  //             // value={amount}\n  //             name={\"amount\"}\n  //             onChange={(e) => setAmount(e.target.value)}\n  //           />\n  //         </div>\n\n  //         <button\n  //           className={`${\n  //             !amount || !recipientAddress\n  //               ? \"cursor-not-allowed\"\n  //               : \"cursor-pointer\"\n  //           } bg-teal-600 text-white px-10 py-4 w-full rounded-lg hover:bg-teal-900`}\n  //           disabled={!amount || !recipientAddress}\n  //           type=\"submit\"\n  //         >\n  //           {sendLoading || loadingWaitData ? \"LOADING....\" : \"SEND\"}\n  //         </button>\n  //       </form>\n  //     </div>\n\n  //     {/* TOTAL SUPPLY: {tokenDetails[3]} */}\n  //   </div>\n  // );\n  \n}\n\nexport default Token;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}